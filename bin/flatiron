#!/usr/bin/env node

var flatiron = require('../lib/flatiron'),
    path = require('path'),
    app = flatiron.app;

var actions = {
  create: 'Creates an empty template for a flatiron application',
  generate: 'Generate new code for a flatiron application',
  version: 'Show flatiron version',
};

app.use(flatiron.plugins.cli, {
  dir: path.join(__dirname, '..', 'lib', 'flatiron', 'cli'),
  usage: [
    'flatiron',
    '',
    'Commands:'
  ].concat(Object.keys(actions).map(function(key){
    return '  ' + key + ' - ' + actions[key];
  }))
});

//
// Some aliases
//
app.alias('new', 'create');
app.alias('g', 'generate');

app.start();
